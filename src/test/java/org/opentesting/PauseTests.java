package org.opentesting;

import java.util.Arrays;

import org.opentesting.services.execution.TestManager;
import org.opentesting.services.execution.scheduler.AsynTaskExec;
import lombok.extern.slf4j.Slf4j;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.util.Assert;

/**
 * Pause Tests
 */
@SpringBootTest
public class PauseTests {

    @Autowired
    private TestManager testPlaner;

    @Test
    void testPause() {

        testPlaner.pause(true, null);

        Assert.isTrue(testPlaner.isPause(Arrays.asList("foo", "bar"), "junit pause test"), "not paused");

        testPlaner.pause(false, null);

        Assert.isTrue(!testPlaner.isPause(Arrays.asList("foo", "bar"), "junit pause test"), "still paused");

        testPlaner.pause(true, "label1");

        Assert.isTrue(testPlaner.isPause(Arrays.asList("label1", "bar"), "junit pause test"), "not paused");

        Assert.isTrue(!testPlaner.isPause(Arrays.asList("label2", "bar"), "junit pause test"), "paused");

    }

}
