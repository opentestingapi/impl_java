package org.opentesting;

import org.opentesting.services.encryption.Encryption;
import lombok.extern.slf4j.Slf4j;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.util.Assert;

/**
 * Encryption Tests
 */
@SpringBootTest
public class EncryptionTests {

    @Autowired
    private Encryption encryption;

    @Test
    void testEncryption() {

        String password = "jasdnfkrlgjzhZGTFTZRFjk887745433333";

        String encodedValue = encryption.encrypt(password);
        //System.out.println(encodedValue);

        String password2 = encryption.decrypt(encodedValue);
        //System.out.println(password2);

        Assert.isTrue(password.equals(password2), "passwords do not match");

    }

    @Test
    void testEncryption2() {

        String password = "jasdnfkrlgjzhZGTFTZRFjk887745433333";

        //try unencrypted password
        String password2 = encryption.decrypt(password);

        Assert.isTrue(password.equals(password2), "passwords do not match");

    }

}
