{
    "id" : "postgres_multiinject_001",
    "testapi": "1.3",
    "active" : true,
    "description" : "postgresql test case with multi inject",
    "labels" : ["stage-local", "department-mydepartment", "function-myfunction"],    
    "injections" : [
     {
        "injectid": "inject-postgresql-1",
        "cron" : [],
        "active" : true,
        "service" : {
           "type": "jdbc",
           "connectstring": "jdbc:postgresql://host.testcontainers.internal:5432/postgres",
           "username": "e2etest",
           "password": "e2etest"
        },
        "sourcefile" : "source_postgresql_1.sql",
        "timetolive": "1m",
        "checks" : [ "check-postgresql-1" ],
        "replacements" : [
           {
              "key": "#replaceme1#",
              "value": [
                 {
                    "order": 1,
                    "type": "list",
                    "value": "rep11|rep12|rep13"
                 }
              ]
            },
            {
               "key": "#replaceme2#",
               "value": [
                  {
                     "order": 1,
                     "type": "list",
                     "value": "rep21|rep22|rep23|rep24"
                  },
                  {
                     "order": 2,
                     "type": "now",
                     "value": "Q"
                  }
               ],
               "maxlength": 10
             },
             {
               "key": "#replaceme3#",
               "value": [
                  {
                     "order": 3,
                     "type": "regex",
                     "value": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}"
                  }
               ]
             }  
         ]       
      },
      {
         "injectid": "inject-postgresql-2",
         "cron" : [],
         "executions": 10,
         "active" : true,
         "service" : {
            "type": "jdbc",
            "connectstring": "jdbc:postgresql://host.testcontainers.internal:5432/postgres",
            "username": "e2etest",
            "password": "e2etest"
         },
         "sourcefile" : "source_postgresql_2.sql",
         "timetolive": "1m",
         "checks" : [ "check-postgresql-2" ]
      }   
    ],
    "checks": [
     {   
        "checkid" : "check-postgresql-1",
        "active" : true,
        "service" : {
            "type": "jdbc",
            "connectstring": "jdbc:postgresql://host.testcontainers.internal:5432/postgres",
            "username": "e2etest",
            "password": "e2etest"
        },
        "validations": [
         {
           "order": 1,
           "request": "check_postgresql_param_1.sql",
           "response": [ "check_postgresql_1.json" ],
           "type": "equals"
         }],
        "maxwaittime" : "10s",
        "mandatory" : true,
        "injects" : [ "inject-postgresql-2" ]
     },
     {   
        "checkid" : "check-postgresql-2",
        "active" : true,
        "service" : {
            "type": "jdbc",
            "connectstring": "jdbc:postgresql://host.testcontainers.internal:5432/postgres",
            "username": "e2etest",
            "password": "e2etest"
        },
        "validations": [
         {
           "order": 1,
           "request": "check_postgresql_param_2.sql",
           "response": [ "check_postgresql_2.json" ],
           "type": "equals"
         }],
        "maxwaittime" : "10s",
        "mandatory" : true
     }
    ]
  }