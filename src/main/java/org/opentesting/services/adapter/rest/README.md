# REST

Using REST to perform inject and check

### Configuration Inject

* please use sourcefile to define POST payload
* please use serviceparam header to define headers (key-value), please use #connectuser#, #connectpassword#, #jwtuser#, #jwtpassword# as placeholders
* please use serviceparam jwt-post, jwt-param and jwt-header to request token, please use #connectuser#, #connectpassword#, #jwtuser#, #jwtpassword# as placeholders
* random data replacement processed for: sourcefile, header, url
* basic auth could be added as header
* please use #connectuser# and #connectpassword# within your files, these ones will be replaced (and removed when downloading the test case)

```
{
        "injectid" : "inject-rest-1",
        "triggercron" : [ "* 1 * * * ?" ],
        "activation" : true,
        "service" : "rest",
        "serviceparam" : "header=source_rest_headers_1.json;jwt-post=http://post-url/token;jwt-param=client_id=clientid&grant_type=password&username=#jwtuser#&password=#jwtpassword#;jwt-header=headerkey1=headervalue1&headerkey2=headervalue2",
        "sourcefile" : "source_rest_1.json",
        "connectstring" : "type=POST;url=http://localhost:8080/dummy/post",
        "connectuser" : "user",
        "connectpassword" : "password",
        "jwtuser" : "jwtuser",
        "jwtpassword" : "jwtpassword",
        "timetolive": "5d",
        "checks" : [ "check-oracle-1", "check-kafka-1" ],
        "randomgenerator" : {
          "replacements": [
               {
                   "replacement" : "#replaceme1#",
                   "optionlist": [ "rep11", "rep12", "rep13"]
               }, {
                   "replacement" : "#replaceme2#",
                   "optionlist": [ "rep21", "rep22", "rep23", "rep24"]
               }
          ]
        }
}
```

### Configuration Check

* please use serviceparam header to define headers (key-value), please use #connectuser#, #connectpassword#, #jwtuser#, #jwtpassword# as placeholders
* please use serviceparam jwt-post and jwt-param to request token, please use #connectuser#, #connectpassword#, #jwtuser#, #jwtpassword# as placeholders
* please use serviceparam payload to define POST payload as file
* please use expectedfile to define expected JSON result
* expectedtype could be 'equals' or 'contains'
* random data replacement processed for: header, expectedfile, url
* basic auth could be added as header
* injects executed after successful check (please do not create infinite loops)
* please use result2random to transfer JSON result (only JSON!) attributes to random data for later usage

```
{
        "checkid" : "check-rest-1",
        "activation" : true,
        "service" : "rest",
        "serviceparam" : "header=check_rest_headers_1.json;jwt-post=http://post-url/token;jwt-param=client_id=clientid&grant_type=password&username=#jwtuser#&password=#jwtpassword#",
        "expectedfile" : "check_rest_1.json",
        "expectedtype": "equals",
        "connectstring" : "type=GET;url=http://localhost:8080/dummy/get",
        "connectuser" : "user",
        "connectpassword" : "password",
        "jwtuser" : "jwtuser",
        "jwtpassword" : "jwtpassword",
        "maxwaittime" : "1h",
        "mandatory" : true,
        "injects" : [ "check-kafka-1", "check-oracle-1" ],
        "result2random" : [ "attribute1", "attribute2" ]
}
```