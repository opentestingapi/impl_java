package org.opentesting.services.scheduler;

import org.opentesting.dto.TestCaseCheckDTO;
import org.opentesting.util.ApplicationContextProvider;
import org.opentesting.util.LogExecutionTime;

public class CheckExecutionTask implements Runnable {

    private TestCaseCheckDTO check;   
    private ApplicationContextProvider applicationContextProvider;
    
    public CheckExecutionTask(TestCaseCheckDTO check, ApplicationContextProvider applicationContextProvider){
        this.check = check;
        this.applicationContextProvider = applicationContextProvider;   
    }
    
    @Override
    @LogExecutionTime
    public void run() {    
        AsynTaskExec asynTaskExec = applicationContextProvider.getBean(AsynTaskExec.class);    
        asynTaskExec.timerCheck(check, this);
    }

}