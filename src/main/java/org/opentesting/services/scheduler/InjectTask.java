package org.opentesting.services.scheduler;

import org.opentesting.util.ApplicationContextProvider;
import org.opentesting.util.LogExecutionTime;

public class InjectTask implements Runnable {

    private String testid;
    private String injectid;
    private String timerid;
    private ApplicationContextProvider applicationContextProvider;

    public InjectTask(String testid, String injectid, String timerid,
        ApplicationContextProvider applicationContextProvider){
        this.testid = testid;
        this.injectid = injectid;
        this.timerid = timerid;
        this.applicationContextProvider = applicationContextProvider;
    }
    
    @Override
    @LogExecutionTime
    public void run() {
        AsynTaskExec asynTaskExec = applicationContextProvider.getBean(AsynTaskExec.class); 
        asynTaskExec.timerInject(testid, injectid, timerid);
    }

}