package org.opentesting.dto.api1;

import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

import org.opentesting.dto.TestCaseCheckDTO;
import org.opentesting.dto.TestCaseDTO;
import org.opentesting.dto.TestCaseInjectionDTO;

import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;

@Setter
@NoArgsConstructor
public class TestCaseDTOapi1 implements TestCaseDTO {

    //API should never use null as default
    @Getter
    private String testapi = "";

    @Getter
    private String id = "";
    
    @Getter
    private String description = "";    

    private List<TestCaseInjectionDTOapi1> injections = new ArrayList<>();
    
    private List<TestCaseCheckDTOapi1> checks = new ArrayList<>();

    @Getter
    private boolean active = true;

    @Getter
    private List<String> labels = new ArrayList<>();

    //extensions should have default null
    @Getter
    private LocalDateTime uploadts = null;

    @Getter
    private List<TestCaseInjectionDTO> injectioninstances = null;
    
    @Getter
    private List<TestCaseCheckDTO> checkinstances = null;

    @Override
    public String getVersion() {
        return this.getClass().getSimpleName();
    }

    @Override
    public List<TestCaseInjectionDTO> getInjections() {
        List<TestCaseInjectionDTO> result = new ArrayList<>();        
        for (TestCaseInjectionDTOapi1 inject : injections) result.add(inject);
        return result;
    } 
    
    @Override
    public List<TestCaseCheckDTO> getChecks() {
        List<TestCaseCheckDTO> result = new ArrayList<>();        
        for (TestCaseCheckDTOapi1 check : checks) result.add(check);
        return result;
    }          
    
}