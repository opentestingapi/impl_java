package org.opentesting.dto.api1_0;

import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

import org.opentesting.dto.TestCaseInjectionDTO;
import org.opentesting.dto.TestCaseRandomDataDTO;
import org.opentesting.dto.TestCaseReplacementDTO;

import lombok.AllArgsConstructor;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;

@Setter
@NoArgsConstructor
@AllArgsConstructor
public class TestCaseInjectionDTOapi1_0 implements TestCaseInjectionDTO {

    //API
    @Getter
    private String injectid = "";   
    
    @Getter
    private List<String> cron = new ArrayList<>();  
    
    @Getter
    private TestCaseServiceDTOapi1_0 service = new TestCaseServiceDTOapi1_0();

    @Getter
    private String timetolive = "1d"; //default only one day

    @Getter
    private String sourcefile = "";

    @Getter
    private List<String> checks = new ArrayList<>();

    private List<TestCaseReplacementDTOapi1_0> replacements = new ArrayList<>();

    @Getter
    private boolean active = true;

    //extension
    @Getter
    private String timerid = ""; //required to "disable" outdated timers - because they will stay active

    @Getter
    private String injectinstanceid = "";

    @Getter
    private LocalDateTime schedulets = null;

    @Getter
    private LocalDateTime startts = null;

    @Getter
    private TestCaseRandomDataDTO randomdata = new TestCaseRandomDataDTO();

    @Getter
    private String bulkid = "";

    @Getter
    private String traceid = "";

    @Override
    public String getVersion() {
        return this.getClass().getSimpleName();
    }

    @Override
    public List<TestCaseReplacementDTO> getReplacements() {
        List<TestCaseReplacementDTO> result = new ArrayList<>();        
        for (TestCaseReplacementDTOapi1_0 rep : replacements) result.add(rep);
        return result;
    }

}
