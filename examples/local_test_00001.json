{
    "id" : "local_test_00001",
    "testapi": 1.0,
    "active" : true,
    "description" : "mixed test case",
    "labels" : ["stage-all", "department-mydepartment", "function-myfunction"],    
    "injections" : [
     {     
        "injectid": "inject-kafka-1",
        "cron" : [ "0 * * * * ?" , "12 * * * * ?", "21 * * * * ?", "30 * * * * ?", "41 * * * * ?", "52 * * * * ?" ],
        "active" : true,
        "service" : {
            "type": "kafka",
            "connectstring": "localhost:9092",
            "username": "",
            "password": "",
            "custom": [
               {
                  "key": "topic",
                  "value": "mytopic1"
               },
               {
                  "key": "header",
                  "value": "source_kafka_headers_1.json"
               }
            ]
         },
        "sourcefile" : "source_kafka_1.txt",       
        "timetolive": "5d",
        "checks" : [ "check-kafka-1" ],
        "replacements" : [
         {
            "key": "#replaceme1#",
            "value": [
               {
                  "order": 1,
                  "type": "list",
                  "value": "rep11|rep12|rep13"
               }
            ]
          },
          {
             "key": "#replaceme2#",
             "value": [
                {
                   "order": 1,
                   "type": "list",
                   "value": "rep21|rep22|rep23|rep24"
                },
                {
                   "order": 2,
                   "type": "now",
                   "value": "Q"
                }
             ],
             "maxlength": 10
           },
           {
             "key": "#replaceme3#",
             "value": [
                {
                   "order": 3,
                   "type": "regex",
                   "value": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}"
                }
             ]
           },
           {
            "key": "#replaceme4#",
            "value": [
               {
                  "order": 4,
                  "type": "regex",
                  "value": "[0-9a-z]{10}"
               }
            ],
            "maxlength": 10
          },
          {
            "key": "#replaceme5#",
            "value": [
               {
                  "order": 5,
                  "type": "now",
                  "value": "yyyy-MM-dd HH:mm:ss",
                  "param": "-1m"
               }
            ],
            "maxlength": 10
          }
       ]
     }, {
        "injectid": "inject-cassandra-1",
        "cron" : [ "1 * * * * ?" , "11 * * * * ?", "22 * * * * ?", "30 * * * * ?", "41 * * * * ?", "52 * * * * ?" ],
        "active" : true,
        "service" : {
            "type": "cassandra",
            "connectstring": "localhost:9042",
            "username": "e2etest",
            "password": "e2etest"            
         },           
        "sourcefile" : "source_cassandra_1.cql",        
        "timetolive": "5d",
        "checks" : [ "check-cassandra-1", "check-to-fail-cassandra-2" ],
        "replacements" : [
          {
            "key": "#replaceme1#",
            "value": [
               {
                  "order": 1,
                  "type": "inheritfrom",
                  "value": "inject-kafka-1"
               }
            ]
          }
         ]
     }, {
         "injectid": "inject-rest-1",
         "cron" : [ "2 * * * * ?" , "13 * * * * ?", "23 * * * * ?", "34 * * * * ?", "43 * * * * ?", "53 * * * * ?" ],
         "active" : true,
         "service" : {
            "type": "rest",
            "connectstring": "http://localhost:50000/dummy/post",
            "username": "",
            "password": "",
            "custom": [
              {
                "key": "type",
                "value": "POST"
              },
              {
                "key": "header",
                "value": "source_rest_headers_1.json"
              }
            ]
         }, 
         "sourcefile" : "source_rest_1.json",
         "timetolive": "5d",
         "checks" : [ "check-rest-1" ]
      } 
    ],
    "checks": [
     {     
        "checkid" : "check-cassandra-1",
        "active" : true,
        "service" : {
            "type": "cassandra",
            "connectstring": "localhost:9042",
            "username": "e2etest",
            "password": "e2etest"
         },
         "validations": [
            {
               "order": 1,
               "request": "check_cassandra_param_1.cql",
               "response": [ "check_cassandra_1.json" ],
               "type": "equals"
            }
         ],        
        "maxwaittime" : "10m",
        "mandatory" : true
     }, {   
        "checkid" : "check-to-fail-cassandra-2",  
        "active" : true,
        "service" : {
            "type": "cassandra",
            "connectstring": "localhost:9042",
            "username": "e2etest",
            "password": "e2etest"
         },
         "validations": [
            {
               "order": 1,
               "request": "check_cassandra_param_2.cql",
               "response": [ "check_cassandra_2.json" ],
               "type": "equals"
            }
         ],
        "maxwaittime" : "10m",
        "mandatory" : false
     }, {   
        "checkid" : "check-kafka-1",  
        "active" : true,
        "service" : {
            "type": "kafka",
            "connectstring": "localhost:9092",
            "username": "",
            "password": "",
            "custom": [
               {
                  "key": "topic",
                  "value": "mytopic1"
               },
               {
                  "key": "group.id",
                  "value": "e2etests"
               }
            ]
         },
         "validations": [
            {
               "order": 1,
               "request": "",
               "response": [ "check_kafka_1.txt" ],
               "type": "contains"
            }
         ],
        "maxwaittime" : "10m",
        "mandatory" : false
     }, {   
        "checkid" : "check-rest-1",  
        "active" : true,
        "service" : {
            "type": "rest",
            "connectstring": "http://localhost:50000/dummy/get",
            "username": "",
            "password": "",
            "custom": [
            {
               "key": "type",
               "value": "GET"
            },
            {
               "key": "header",
               "value": "check_rest_headers_1.json"
            }
            ]
         },
         "validations": [
            {
               "order": 1,
               "request": "",
               "response": [ "check_rest_1.json" ],
               "type": "equals"
            }
         ],               
        "maxwaittime" : "10m",
        "mandatory" : false
     }
    ]
  }